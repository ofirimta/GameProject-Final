#pragma once

#include "Enums.h"
#include "Point.h"
#include "Screen.h"
#include "Player.h"


/////////////////////////////////////////////////////////////

class Door  //in every room i have only one key - so i dont need room num here or match key to room- we must use the key to open the door
{
	int num_of_door;   //or sign

	Screen& my_screen;

	int counter = 0;  //counting how many times players standing on this door.

	bool need_key;

	bool collect_key = 0;
	bool door_is_open = 0;

public:
	Door(bool if_need_a_key, int my_door_num, Screen& screen);

	// i need to configer all doors that i have in main

	///////////////////////////////////////////////////////////////////////////////////////////

	void setThisKey(bool new_val)
	{
		collect_key = new_val;
	}

	////////////////////////////////////////////////////////////////////////////////////////////

	bool itsAMatch() const
	{
		if ((collect_key != 0) && (need_key != 0))
		{
			return 1;
		}
		return 0;
	}
	//////////////////////////////////////////////////////////////////////////////////////////////

	void openDoor(Player my_player, int room);

	//////////////////////////////////////////////////////////////////////////////////////////////

	void changeRoom(Player& my_character, int& room);  //calling only is door is open!!!!

	//////////////////////////////////////////////////////////////////////////////////////////////

	int getNumDoor() const
	{
		return (num_of_door);
	}
	//////////////////////////////////////////////////////////////////////////////////////////////

	void addOneToCounter()
	{
		counter++;
	}
	////////////////////////////////////////////////////////////////////////////////////////////////

	int showCounter() const
	{
		return counter;
	}
	////////////////////////////////////////////////////////////////////////////////////////////////

};